<div class="min-h-screen bg-slate-50 pb-24 font-sans antialiased">
  <div class="max-w-lg mx-auto px-4 sm:px-6">
    <header class="pt-6 pb-4">
      <h1 class="text-xl font-bold text-slate-900">Catálogo de Servicios</h1>
      <p class="text-slate-500 text-sm mt-0.5">Consulta precios y luego solicita tu presupuesto</p>
    </header>

    <!-- CTA: va directo a la calculadora -->
    <a
      routerLink="/calculadora"
      class="flex items-center justify-center gap-3 w-full py-4 px-6 bg-accent text-white font-bold rounded-3xl shadow-sm hover:bg-blue-700 transition-colors mb-6"
    >
      <span class="text-xl leading-none">+</span>
      <span>Solicitar Servicio</span>
    </a>

    <!-- Buscador -->
    <div class="relative mb-6">
      <span class="absolute left-4 top-3.5 text-slate-400">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
      </span>
      <input
        type="text"
        [value]="searchTerm()"
        (input)="searchTerm.set($any($event.target).value)"
        placeholder="Buscar por nombre o categoría..."
        class="w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-2xl shadow-sm focus:ring-2 focus:ring-accent focus:border-accent outline-none transition-all text-sm"
      />
    </div>

    <!-- Catálogo: grid de tarjetas (solo consulta, sin input de cantidad) -->
    <section>
      @if (filteredServices().length === 0) {
        <div class="rounded-3xl bg-white border border-slate-200 shadow-sm p-8 text-center">
          <p class="text-slate-500 text-sm">No hay servicios que coincidan con tu búsqueda.</p>
          <button (click)="searchTerm.set('')" class="text-accent font-medium text-sm mt-2">Limpiar búsqueda</button>
        </div>
      } @else {
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-3">
          @for (s of filteredServices(); track s.id) {
            <article class="rounded-3xl bg-white border border-slate-200 shadow-sm p-4">
              <span class="text-[10px] font-bold text-accent uppercase tracking-widest">{{ s.category }}</span>
              <h3 class="font-bold text-slate-800 mt-1">{{ s.name }}</h3>
              <p class="text-slate-500 text-sm mt-1">{{ s.price.value | currency }} / {{ s.unit }}</p>
            </article>
          }
        </div>
      }
    </section>

    <!-- Refuerzo del CTA al final -->
    <div class="mt-8">
      <a
        routerLink="/calculadora"
        class="flex items-center justify-center gap-2 w-full py-3 px-6 bg-white border-2 border-accent text-accent font-bold rounded-3xl shadow-sm hover:bg-accent hover:text-white transition-colors"
      >
        <span>+</span>
        <span>Ir a la calculadora para solicitar</span>
      </a>
    </div>
  </div>

  <app-bottom-navbar />
</div>

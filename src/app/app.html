<div class="min-h-screen bg-slate-50 pb-40"> <header class="bg-white border-b border-slate-200 p-6 mb-8 sticky top-0 z-10 shadow-sm">
  <div class="max-w-5xl mx-auto flex justify-between items-center">
    <h1 class="text-2xl font-black text-slate-900 tracking-tight">RENOBO</h1>
    <div class="relative w-64">
      <input 
        type="text" 
        (input)="searchTerm.set($any($event.target).value)"
        placeholder="Buscar material..." 
        class="w-full pl-10 pr-4 py-2 bg-slate-100 border-none rounded-full text-sm focus:ring-2 focus:ring-accent outline-none transition-all"
      >
      <span class="absolute left-3 top-2.5 text-slate-400">üîç</span>
    </div>
  </div>
</header>

<main class="max-w-5xl mx-auto px-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
  @for (item of filteredServices(); track item.id) {
    <div class="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-shadow">
      <span class="text-[10px] font-bold text-accent uppercase tracking-widest bg-blue-50 px-2 py-1 rounded">{{ item.category }}</span>
      <h3 class="text-lg font-bold text-slate-800 mt-2">{{ item.name }}</h3>
      <p class="text-slate-500 text-sm mb-4">{{ item.price.value | currency }} / {{ item.unit }}</p>
      
      <div class="flex items-center gap-3">
        <input 
          type="number" 
          min="0"
          (input)="updateQuantity(item.id, $event)"
          class="w-full bg-slate-50 border border-slate-200 rounded-lg p-2 text-center font-bold focus:border-accent outline-none"
          placeholder="0.00"
        >
        <span class="text-slate-400 font-medium">{{ item.unit }}</span>
      </div>
    </div>
  }
</main>

<footer class="fixed bottom-0 left-0 w-full bg-white border-t border-slate-200 p-6 shadow-[0_-10px_40px_rgba(0,0,0,0.05)] z-20">
  <div class="max-w-5xl mx-auto flex flex-col md:flex-row justify-between items-center gap-6">
    
    <div class="flex items-center gap-4">
      <div [class]="recommendedPlan()?.exceeded ? 'bg-orange-100' : 'bg-accent/10'" class="p-3 rounded-2xl transition-colors">
        <span class="text-2xl">{{ recommendedPlan()?.exceeded ? '‚ö†Ô∏è' : 'üí≥' }}</span>
      </div>
      <div>
        @if (recommendedPlan(); as plan) {
          <p class="text-xs font-bold text-slate-400 uppercase tracking-tighter">
            {{ plan.exceeded ? 'Presupuesto Elevado' : 'Plan Recomendado' }}
          </p>
          <h4 class="text-xl font-black text-slate-900">
            {{ plan.name }} {{ plan.exceeded ? '+' : '' }}
          </h4>
          @if (plan.exceeded) {
            <p class="text-[10px] text-orange-600 font-bold uppercase">Requiere Evaluaci√≥n Especial</p>
          }
        } @else {
          <p class="text-slate-400 text-sm italic">Agrega materiales para ver tu plan</p>
        }
      </div>
    </div>

    @if (grandTotal() > 0) {
      <div class="text-center md:text-left px-8 border-x border-slate-100 hidden md:block">
        <p class="text-xs font-bold text-slate-400 uppercase">Cuota Mensual Est. (12m)</p>
        <p class="text-xl font-bold text-slate-700">{{ estimatedQuota() | currency }}</p>
      </div>
    }

    <div class="text-right">
      <p class="text-xs font-bold text-slate-400 uppercase">Total Presupuesto</p>
      <p class="text-4xl font-black text-slate-900 leading-none">
        {{ grandTotal() | currency }}
      </p>
    </div>

    <button class="w-full md:w-auto px-8 py-4 bg-accent text-white font-black rounded-2xl hover:bg-blue-700 hover:scale-105 transition-all shadow-lg shadow-blue-200">
      SOLICITAR CR√âDITO
    </button>

  </div>
</footer>

</div>

<router-outlet />